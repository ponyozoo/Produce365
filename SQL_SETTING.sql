USE zoo;

CREATE TABLE TRAINEE (
    ID INT PRIMARY KEY,
    NAME VARCHAR(20) NOT NULL,
    BIRTH DATE NOT NULL,
    SEX VARCHAR(1) CHECK (SEX IN ('F', 'M')) NOT NULL,
    HEIGHT INT NOT NULL,
    WEIGHT INT NOT NULL,
    NATIONALITY VARCHAR(50) NOT NULL,
    HIRE_DATE DATE NOT NULL DEFAULT (CURRENT_DATE),
    PHOTO VARCHAR(200)
);
CREATE TABLE RATING (
    CATEGORY VARCHAR(5) CHECK (CATEGORY IN ('VOCAL', 'RAP', 'DANCE', 'TOTAL')),
    TRAINEE_ID INT NOT NULL,
    GRADE VARCHAR(1) NOT NULL DEFAULT 'F' CHECK (GRADE BETWEEN 'A' AND 'F'),
    FOREIGN KEY (TRAINEE_ID) REFERENCES TRAINEE(ID) ON DELETE CASCADE,
    CONSTRAINT RATING_CONSTRAINT PRIMARY KEY (CATEGORY, TRAINEE_ID)
);
CREATE TABLE DEBUT (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    NAME VARCHAR(30) NOT NULL,
    MEMBER_COUNT INT NOT NULL,
    CONCEPT VARCHAR(30) NOT NULL,
    GRADE VARCHAR(1) NOT NULL DEFAULT 'F' CHECK (GRADE BETWEEN 'A' AND 'F'),
    DEBUT_DATE DATE NOT NULL,
    PHOTO VARCHAR(200)
);
CREATE TABLE DEBUT_MEMBER(
    IDX INT AUTO_INCREMENT PRIMARY KEY,
    GROUP_ID INT NOT NULL,
    TRAINEE_ID INT NOT NULL,
    FOREIGN KEY (GROUP_ID) REFERENCES DEBUT(ID) ON DELETE CASCADE,
    FOREIGN KEY (TRAINEE_ID) REFERENCES TRAINEE(ID) ON DELETE CASCADE
);
CREATE TABLE CARE (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    CATEGORY VARCHAR(50) NOT NULL,
    COST INT NOT NULL DEFAULT 0
);
CREATE TABLE CARE_HISTORY (
    IDX INT AUTO_INCREMENT PRIMARY KEY,
    CARE_DATE DATE NOT NULL DEFAULT (CURRENT_DATE),
    CARE_ID INT NOT NULL,
    TRAINEE_ID INT NOT NULL,
    FOREIGN KEY (CARE_ID) REFERENCES CARE(ID) ON DELETE CASCADE,
    FOREIGN KEY (TRAINEE_ID) REFERENCES TRAINEE(ID) ON DELETE CASCADE
);
CREATE TABLE LESSON(
    ID INT AUTO_INCREMENT PRIMARY KEY,
    TRAINER VARCHAR(20) NOT NULL,
    SUBJECT VARCHAR(50) NOT NULL,
    TIME FLOAT NOT NULL
);
CREATE TABLE LESSON_HISTORY (
    IDX INT AUTO_INCREMENT PRIMARY KEY,
    LESSON_DATE DATE NOT NULL DEFAULT (CURRENT_DATE),
    LESSON_ID INT NOT NULL,
    TRAINEE_ID INT NOT NULL,
    FOREIGN KEY (LESSON_ID) REFERENCES LESSON(ID) ON DELETE CASCADE,
    FOREIGN KEY (TRAINEE_ID) REFERENCES TRAINEE(ID) ON DELETE CASCADE
);
CREATE TABLE ACCOUNT (
    ID VARCHAR(20) PRIMARY KEY,
    PW VARCHAR(30) NOT NULL
);

INSERT INTO TRAINEE VALUES (32174380, '변의주', '2002-09-07', 'M', 183, 62, 'REPUBLIC OF KOREA', '2019-05-04', 'https://i.namu.wiki/i/tMANTatHXKqt8r7CFZMtECdj_Uz5FGdInctqrP1PLYfnrrAhiopw_fIv4tYZjVDvtnZG6M38h4boosipAk8qNPvNPTv4y-oVfP1XrpRoqVZbRXFH8kZzfWd8MSbQjozcFV4sBrryO4-P_ULAjmUe1g.webp');
INSERT INTO TRAINEE VALUES (20589425, '무라타 후마', '1998-06-29', 'M', 180, 70, 'JAPAN', '2018-05-14', 'https://i.namu.wiki/i/Wxqh-6TApyNDflFyJX9NhYXkgMFtItNDpRowAd9xXF0P_YsWS-Mo3L8PDD8f6ZT5fijUVVoI4xl7N-JEQWxssqNHByeydtIo2xmsl9IZT3_LkWcUAp8J-Z5tlYKM0c5kBQMA4Q4_PtvChjJtWOg6Kw.webp');
INSERT INTO TRAINEE VALUES (26468421, '코가 유다이', '1997-10-21', 'M', 186, 66, 'JAPAN', '2019-01-25', 'https://i.namu.wiki/i/k40hsbONDZI9mb4LnWQDDElgNxZ1rsrjJXYRpqOjEyKF1bagEoO7V5TG7uBecPwkZ8G7A8PQy4z8UAhoy1XhIuZH8LaaSVkQ6Hj_jHEILesIveYEqglUaJeHkHrkaN4U0s9N2xGwrgcqkshgZP0JyQ.webp');
INSERT INTO TRAINEE VALUES (32574685, '왕이샹', '2002-07-09', 'M', 179, 68, 'TAIWAN', '2019-03-21', 'https://i.namu.wiki/i/kao3k-kDPw0SCnRCbzO1fhy-MhbK6yAgM9-NWIGWZfVbIlHXF-AInCCBkNP5O7dwHuRyEO4fxhddirX3P6IncNHSDRsSefx0uw6aIDOVK-AXUsJqdKpExn8IBLhIWhqtsqwGl7WrqMYOk83ALhy0Xg.webp');
INSERT INTO TRAINEE VALUES (32215468, '나카키타 유마', '2004-02-07', 'M', 174, 60, 'JAPAN', '2020-08-07', 'https://i.namu.wiki/i/5uZ4xCy9M7IQLqAFVYrIroE7n3G6BIBLA9YiVXd4nHbM44yyXqPue21_tHtc-0k3ArNc7MCDT6ygY-Mftgg0SRY7vaswYjEyqXvhETBSuIvD7rcBHQv3gJIFO4n7bs3sX2Ub7AbG5mzHIE4tRCFyxw.webp');
INSERT INTO TRAINEE VALUES (32175094, '아사쿠라 죠', '2004-07-08', 'M', 184, 63, 'JAPAN', '2020-12-17', 'https://i.namu.wiki/i/Eiv0eBlhknbF84thdU-HnrXcC5nSkxrl89ln0U_0CILCqlx_m4ldnfTCdbGk2C8z4eUPQ3wkpUdauHjHfUfjuEXk77cSzTpQn7OEtjj2ZJHF-D7FXyMjAICOgZOCQ4-lD8I3P_rNbYB7Eh2fBkIt3Q.webp');
INSERT INTO TRAINEE VALUES (54135879, '시게타 하루아', '2005-05-01', 'M', 173, 60, 'JAPAN', '2021-12-03', 'https://i.namu.wiki/i/ho84tk0efyYz7yUzcE1pkpDBfAoIraIjKGwdIu58qMfLsP1sALp2UXQ-pFRl20ARAUtnlX65w9j4CK-V3fu09iNCYNLFtnpVk10dS2mxsGAYFb-fipZeKr-_1UJ5Du_O6gzsAQEihPUiZ719y-vBeQ.webp');
INSERT INTO TRAINEE VALUES (12548798, '타카야마 리키', '2005-05-04', 'M', 176, 65, 'JAPAN', '2017-11-13', 'https://i.namu.wiki/i/UrgvqrnmfsjQ6pNFnIsGJElc77ip3kU2vQqjxtc3ZGbsL1miMp00S_GlJbaEyvzdbfJF_ms8MBMuEQjTasBuAaz7H0ZZB5QP-mX6vH5ijmJfRJi8l--130nTzsf3xB60mvR4j-ICqrAKSVnxbkXzmQ.webp');
INSERT INTO TRAINEE VALUES (45621587, '마우스 리키', '2006-02-17', 'M', 181, 68, 'JAPAN', '2021-05-07', 'https://i.namu.wiki/i/IZQBnglrceB6pZz4t9ou-xceymiSwbjmuNJcEmRY81_SR5Eg8G8MsA1BEJU-ZOBiQX2rE46qpsE3zaZE7tSbeTtfjy7HnPGh0w11kt3mTQZlgR651-iK5rYS1T2IdZ31SO9v8VAUlie4wkeMAsadFQ.webp');

INSERT INTO RATING VALUES ('TOTAL', 32174380, 'A');
INSERT INTO RATING VALUES ('VOCAL', 32174380, 'A');
INSERT INTO RATING VALUES ('RAP', 32174380, 'B');
INSERT INTO RATING VALUES ('DANCE', 32174380, 'C');

INSERT INTO RATING VALUES ('TOTAL', 20589425, 'B');
INSERT INTO RATING VALUES ('VOCAL', 20589425, 'F');
INSERT INTO RATING VALUES ('RAP', 20589425, 'A');
INSERT INTO RATING VALUES ('DANCE', 20589425, 'B');

INSERT INTO RATING VALUES ('TOTAL', 26468421, 'C');
INSERT INTO RATING VALUES ('VOCAL', 26468421, 'F');
INSERT INTO RATING VALUES ('RAP', 26468421, 'A');
INSERT INTO RATING VALUES ('DANCE', 26468421, 'A');

INSERT INTO RATING VALUES ('TOTAL', 32574685, 'A');
INSERT INTO RATING VALUES ('VOCAL', 32574685, 'A');
INSERT INTO RATING VALUES ('RAP', 32574685, 'A');
INSERT INTO RATING VALUES ('DANCE', 32574685, 'A');

INSERT INTO RATING VALUES ('TOTAL', 32215468, 'E');
INSERT INTO RATING VALUES ('VOCAL', 32215468, 'F');
INSERT INTO RATING VALUES ('RAP', 32215468, 'E');
INSERT INTO RATING VALUES ('DANCE', 32215468, 'E');

INSERT INTO RATING VALUES ('TOTAL', 32175094, 'B');
INSERT INTO RATING VALUES ('VOCAL', 32175094, 'B');
INSERT INTO RATING VALUES ('RAP', 32175094, 'B');
INSERT INTO RATING VALUES ('DANCE', 32175094, 'A');

INSERT INTO RATING VALUES ('TOTAL', 54135879, 'F');
INSERT INTO RATING VALUES ('VOCAL', 54135879, 'F');
INSERT INTO RATING VALUES ('RAP', 54135879, 'F');
INSERT INTO RATING VALUES ('DANCE', 54135879, 'F');

INSERT INTO RATING VALUES ('TOTAL', 12548798, 'C');
INSERT INTO RATING VALUES ('VOCAL', 12548798, 'D');
INSERT INTO RATING VALUES ('RAP', 12548798, 'C');
INSERT INTO RATING VALUES ('DANCE', 12548798, 'B');

INSERT INTO RATING VALUES ('TOTAL', 45621587, 'A');
INSERT INTO RATING VALUES ('VOCAL', 45621587, 'B');
INSERT INTO RATING VALUES ('RAP', 45621587, 'A');
INSERT INTO RATING VALUES ('DANCE', 45621587, 'E');


INSERT INTO DEBUT (NAME, MEMBER_COUNT, CONCEPT, GRADE, DEBUT_DATE, PHOTO) VALUES ('ANDTEAM', 9, 'WOLF', 'A', '2022-12-07', 'https://pbs.twimg.com/media/GE__tQdWkAAMZTR.jpg:large');
INSERT INTO DEBUT (NAME, MEMBER_COUNT, CONCEPT, GRADE, DEBUT_DATE, PHOTO) VALUES ('BOYNEXTDOOR', 6, 'HIPHOP', 'B', '2023-05-30', 'https://dispatch.cdnser.be/cms-content/uploads/2024/09/24/b11d1c43-ba86-4e6d-9241-09ed536be7d2.jpg');
INSERT INTO DEBUT (NAME, MEMBER_COUNT, CONCEPT, GRADE, DEBUT_DATE, PHOTO) VALUES ('TXT', 5, 'THE LITTLE PRINCE', 'F', '2019-03-04', 'https://s3-ap-northeast-1.amazonaws.com/img.fancommerce.jp/prod-cafe-txtcafe2024/content/uploads/2024/08/24084026/main_visual_a.jpg');

INSERT INTO DEBUT_MEMBER (GROUP_ID, TRAINEE_ID) VALUES (1, 32174380);
INSERT INTO DEBUT_MEMBER (GROUP_ID, TRAINEE_ID) VALUES (1, 32574685);
INSERT INTO DEBUT_MEMBER (GROUP_ID, TRAINEE_ID) VALUES (1, 32175094);
INSERT INTO DEBUT_MEMBER (GROUP_ID, TRAINEE_ID) VALUES (1, 32215468);
INSERT INTO DEBUT_MEMBER (GROUP_ID, TRAINEE_ID) VALUES (2, 54135879);
INSERT INTO DEBUT_MEMBER (GROUP_ID, TRAINEE_ID) VALUES (2, 12548798);
INSERT INTO DEBUT_MEMBER (GROUP_ID, TRAINEE_ID) VALUES (3, 26468421);

INSERT INTO CARE (CATEGORY, COST) VALUES ('피부과 검진 1회', 100000);
INSERT INTO CARE (CATEGORY, COST) VALUES ('라미네이트 1개', 370000);
INSERT INTO CARE (CATEGORY, COST) VALUES ('메이크업 1회', 300000);
INSERT INTO CARE (CATEGORY, COST) VALUES ('탈색 1회', 150000);
INSERT INTO CARE (CATEGORY, COST) VALUES ('쌍커풀 수술', 800000);

INSERT INTO CARE_HISTORY (CARE_DATE, CARE_ID, TRAINEE_ID) VALUES ('2024-03-08', 3, 32174380);
INSERT INTO CARE_HISTORY (CARE_DATE, CARE_ID, TRAINEE_ID) VALUES ('2023-12-19', 4, 20589425);
INSERT INTO CARE_HISTORY (CARE_DATE, CARE_ID, TRAINEE_ID) VALUES ('2022-04-21', 1, 45621587);

INSERT INTO LESSON (TRAINER, SUBJECT, TIME) VALUES ('이노우에', '일본어 수업', '4');
INSERT INTO LESSON (TRAINER, SUBJECT, TIME) VALUES ('사쿠라', '안무 창작', '2');
INSERT INTO LESSON (TRAINER, SUBJECT, TIME) VALUES ('소마', '보컬 트레이닝', '1.5');
INSERT INTO LESSON (TRAINER, SUBJECT, TIME) VALUES ('장기하', '기타 연주', '3');
INSERT INTO LESSON (TRAINER, SUBJECT, TIME) VALUES ('소연', '한국어 수업', '2.5');

INSERT INTO LESSON_HISTORY (LESSON_DATE, LESSON_ID, TRAINEE_ID) VALUES ('2023-05-11', 1, 32174380);
INSERT INTO LESSON_HISTORY (LESSON_DATE, LESSON_ID, TRAINEE_ID) VALUES ('2024-09-01', 5, 32175094);
INSERT INTO LESSON_HISTORY (LESSON_DATE, LESSON_ID, TRAINEE_ID) VALUES ('2021-10-23', 2, 26468421);

INSERT INTO ACCOUNT VALUES ('admin', '1234');